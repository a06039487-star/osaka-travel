<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>AI Smart Trip Planner</title>

<link rel="manifest" href="manifest.json">

<style>
:root {
  --primary:#2563eb;
  --bg:#f5f7fb;
  --card:#fff;
  --text:#111827;
  --muted:#6b7280;
  --radius:16px;
}

body {
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
  background:var(--bg);
  color:var(--text);
}

header {
  padding:20px;
  background:linear-gradient(135deg,#2563eb,#1e40af);
  color:#fff;
  text-align:center;
}

main {
  max-width:520px;
  margin:auto;
  padding:16px;
}

.card {
  background:var(--card);
  border-radius:var(--radius);
  padding:16px;
  margin-bottom:16px;
}

label {
  font-size:.8rem;
  color:var(--muted);
}

input,select {
  width:100%;
  padding:12px;
  margin:6px 0 12px;
  border-radius:12px;
  border:1px solid #e5e7eb;
  font-size:1rem;
}

button {
  width:100%;
  padding:14px;
  border:none;
  border-radius:14px;
  background:var(--primary);
  color:#fff;
  font-size:1rem;
}

.result {
  animation:fade .4s ease;
}

@keyframes fade {
  from {opacity:0;transform:translateY(10px);}
  to {opacity:1;transform:translateY(0);}
}
</style>
</head>

<body>

<header>
  <h1>✈️ AI Smart Trip Planner</h1>
  <p style="font-size:.8rem;">Create a full trip in under 60 seconds</p>
</header>

<main>

<div class="card">
  <label>Destination</label>
  <input id="dest" placeholder="Tokyo, Kyoto, Osaka">

  <label>Start Date</label>
  <input type="date" id="start">

  <label>End Date</label>
  <input type="date" id="end">

  <label>Budget (per person / night)</label>
  <input type="number" id="budget" placeholder="120">

  <label>Travel Style</label>
  <select id="style">
    <option>Sightseeing</option>
    <option>Food & Dining</option>
    <option>Nature</option>
    <option>Family</option>
    <option>Relaxation</option>
  </select>

  <button onclick="generate()">Generate My Trip</button>
</div>

<div id="output"></div>

</main>

<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js');
}

/* ===== AI GENERATION (Mock now, real API later) ===== */

async function generate() {
  const dest = destEl.value;
  const style = styleEl.value;
  const budget = budgetEl.value;

  output.innerHTML = `
  <div class="card result">
    <h3>${dest}</h3>
    <p><strong>Style:</strong> ${style}</p>

    <h4>Day 1</h4>
    <ul>
      <li>Arrival & city highlights</li>
      <li>Local food experience</li>
    </ul>

    <h4>Day 2</h4>
    <ul>
      <li>Cultural or nature attraction</li>
      <li>Evening local walk</li>
    </ul>

    <h4>Transportation</h4>
    <ul>
      <li>Fastest: Express / Metro</li>
      <li>Cheapest: Local transit</li>
      <li>Direct: Taxi / Bus</li>
    </ul>

    <h4>Accommodation</h4>
    <p>Recommended budget: <strong>$${budget}</strong> / night</p>

    <h4>Top Alternatives</h4>
    <p>Food Lover · Relaxing · Family · Hidden Gems · Highlights</p>
  </div>`;
}

/* === REAL OpenAI API (用在 serverless) ===

POST /api/generate
{
  destination, dates, budget, style
}

const completion = await openai.chat.completions.create({
  model: "gpt-4.1-mini",
  messages: [
    { role: "system", content: "You are a travel planner..." },
    { role: "user", content: prompt }
  ]
});

*/
</script>

</body>
</html>
